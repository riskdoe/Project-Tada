<!DOCTYPE html>
<html>
<head>
    <title>Project Tada</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', path='/style.css') }}">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-900 ">
    <div id="tada" class="flex flex-col h-screen">
    <h1 class="self-center h-8 title text-3xl font-bold underline"> Tada Frontend </h1>

    <div class="grow flex flex-row pb-4">
        <div class="h-full p-3 w-1/3">
            <div id="streamstats" class="flex flex-col h-2/6 p-2 mb-3 bg-gray-800 rounded-lg" >
                <h2>Stream Stats</h2>
                <div id="streamstatsbox" 
                class="grow" 
                    hx-get="/api/v1/streamstats"
                    hx-trigger="load"
                >
                </div>
                <button class="mb-2 shadow-md shadow-indigo-500/50 bg-slate-900 ring-2 ring-violet-800/50 text-slate-300 p-2 rounded"
                    hx-get="/api/v1/testing/startstream"
                    hx-swap="none"
                    hx-on::after-request="this.reset()"
                >
                    Start Stream Stats Recording
                </button>
                <button class="shadow-md shadow-indigo-500/50 bg-slate-900 ring-2 ring-violet-800/50 text-slate-300 p-2 rounded"
                    hx-get="/api/v1/testing/endstream"
                    hx-swap="none"
                    hx-on::after-request="this.reset()"
                >
                    End Stream Stats Recording
                </button>
            </div>

            <div id="chatbox" class="flex flex-col h-4/6 p-2 mb-3 bg-gray-800 rounded-lg" >
                <h2>Chatbox</h2>
                <div id="message_list"
                class="grow w-full overflow-y-auto h-1 scroll-smooth mb-2 bg-transparent text-slate-50 p-2 ring-2 ring-violet-800/50 w-1/2 rounded"
                hx-get="/api/v1/messages"
                hx-trigger="load"
                >
                </div>
                <form class= "flex space-x-4 mb-2" id="sendmessage" 
                    hx-post="/api/v1/send_message/"
                    hx-swap="none"
                    hx-on::after-request="this.reset()"
                >
                    <input class="bg-transparent text-slate-50 p-2 ring-2 ring-violet-800/50 w-3/4 rounded" type="text" id="TwitchMessage" name="TwitchMessage" placeholder="Message...">
                    <button class="shadow-md shadow-indigo-500/50 bg-slate-900 ring-2 ring-violet-800/50 ring-2 ring-violet-800/50 text-slate-300 p-2 w-1/4 rounded" type="submit">Submit</button>
                </form>
            </div>

        </div >
        <div class="h-full p-3 pl-0 w-2/3">

            <div id="command_handler" class="h-4/6 p-2 mb-3 bg-gray-800 rounded-lg" 
                hx-get="/api/v1/commands"
                hx-trigger="load"
                >
            </div>


            <div id="minigamewrapper" class="h-2/6 p-2 mb-3 bg-gray-800 rounded-lg" >
                <h2>Minigames</h2>
                <button class="shadow-md shadow-indigo-500/50 bg-slate-900 ring-2 ring-violet-800/50 text-slate-300 p-2 rounded"
                    hx-get="/api/v1/start_trivia"
                    hx-swap="none"
                    hx-on::after-request="this.reset()"
                >
                    Start Trivia
                </button>

                <button class="shadow-md shadow-indigo-500/50 bg-slate-900 ring-2 ring-violet-800/50 text-slate-300 p-2 rounded"
                    hx-get="/api/v1/start_wordle"
                    hx-swap="none"
                    hx-on::after-request="this.reset()"
                >
                Start Wordle
                </button>

                <div id="minigame"
                    hx-get="/api/v1/minigamebox"
                    hx-trigger="load"
                >
                </div>
            </div>
        </div>
    </div>
    </div>
    <script src="https://unpkg.com/htmx.org@1.9.6"></script>
<body>
</html>